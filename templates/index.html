<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Aneris Control Panel</title>
    <link rel="icon" href="/media/favicon.ico">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</head>

<body>
    <h1>Aneris EMUAS Control Panel</h1>

    <!-- Relay control -->
    <h2>Power Options</h2>

    <!-- Reboot camera and daisy chain -->
    <h3>Reboot</h3>
    <label style="cursor: pointer;" title="Remember to save config" for="reset_time">Reset time:</label>
    <input type="number" id="reset_time" name="reset_time" min="0" max="1000"> seconds<br>
    <button style="cursor: pointer;" title="Turns of camera for a time set by rest time" onclick="rebootCamera()">Reboot
        camera</button><br>
    <button style="cursor: pointer;" title="Turns of daisy chain for a time set by rest time"
        onclick="rebootDaisy()">Reboot
        daisy chain</button><br>

    <!-- Toggle camera and daisy chain -->
    <h3>Relays</h3>
    <label for="toggle_camera" style="cursor: pointer;"
        title="Remember that when camera is off the relay solenoid is active">Camera :</label>
    <label class="switch">
        <input type="checkbox" id="toggle_camera" checked>
        <span class="slider round"></span>
    </label><br><br>

    <label for="toggle_daisy" style="cursor: pointer;"
        title="Remember that when daisy chain is off the relay solenoid is active">Daisy ON/OFF:</label>
    <label class="switch">
        <input type="checkbox" id="toggle_daisy" checked>
        <span class="slider round"></span>
    </label>

    <!-- Configuration -->
    <h2>Configuration</h2>

    <!-- Lights configuration -->
    <h3>Video Lights</h3>
    <label style="cursor: pointer;" title="Between 0 and 100" for="light_brightness">Brightness:</label>
    <input type="number" id="light_brightness" name="light_brightness" min="0" max="100"><br>

    <!-- Container for dynamic time period inputs -->
    <label for=" timePeriodsContainer">Light timetable</label>
    <div id="timePeriodsContainer"></div>

    <!-- Buttons to add and submit time periods -->
    <button onclick="addTimePeriod()">Add Time Period</button>

    <!-- Light trigger -->
    <button style="cursor: pointer;" title="Triggers lights for 5 seconds" onclick="testLight()">Test
        lights</button><br><br>

    <!-- Night light schedule -->
    <label for="toggle_night_schedule" style="cursor: pointer;" title="Toggles the night schedule on or off">Night
        ON/OFF:</label>
    <label class="switch">
        <input type="checkbox" id="toggle_night_schedule">
        <span class="slider round"></span>
    </label>

    <!-- UVC configuration -->
    <h3>UVC LED</h3>
    <label style="cursor: pointer;" title="Between 0 and 100" for="duty_cycle">Duty Cycle:</label>
    <input type="number" id="duty_cycle" name="duty_cycle" min="0" max="100"><br>

    <!-- UVC Timetable -->
    <label for="uvcTimePeriodsContainer">UVC timetable</label>
    <div id="uvcTimePeriodsContainer"></div>
    <button onclick="addUVCTimePeriod()">Add Time Period</button><br>

    <button style="cursor: pointer;" title="Triggers UVC for 5 seconds" onclick="testUVC()">Test UVC</button><br>

    <!-- Save configuration -->
    <h3>
        <button onclick="setConfig()">Save configuration</button>
        <button onclick="window.location.reload();">Load configuration</button>
    </h3>
    <p id="ack"></p>
</body>

</html>